<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MinaPool – HowBG</title>
  <style>
    html, body { height: 100%; margin: 0; background: transparent; }
    /* make sure no scrollbars */
    body { overflow: hidden; }
    canvas { display: block; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
</head>
<body>
<script>
  // Simple automatic Game of Life background
  const BLUE = "#0052FF";
  const GRID = "#E5E7EB";

  let cellSize = 18;
  let cols, rows, W, H;
  let current = [], next = [];

  new p5((s) => {
    s.setup = () => {
      s.createCanvas(100, 100);
      s.frameRate(10);
      s.noStroke();
      fit();
      s.windowResized = fit;
    };

    function fit() {
      W = s.windowWidth;
      H = s.windowHeight;
      s.resizeCanvas(W, H);

      // gentle responsive cell size
      const auto = Math.max(12, Math.round((W/48 + H/36)/2));
      const cs = Math.round(cellSize*0.6 + auto*0.4);
      cellSize = cs;

      cols = Math.floor(W / cellSize);
      rows = Math.floor(H / cellSize);
      current = Array.from({length: cols}, () => Array(rows).fill(0));
      next    = Array.from({length: cols}, () => Array(rows).fill(0));
      randomize();
    }

    function randomize() {
      for (let c=0; c<cols; c++){
        for (let r=0; r<rows; r++){
          current[c][r] = Math.random()<0.5 ? 1 : 0;
        }
      }
    }

    function evolve() {
      for (let c=0;c<cols;c++){
        for (let r=0;r<rows;r++){
          const L=(c-1+cols)%cols, R=(c+1)%cols, U=(r-1+rows)%rows, D=(r+1)%rows;
          const n =
            current[L][U]+current[c][U]+current[R][U]+
            current[L][r]           +current[R][r]+
            current[L][D]+current[c][D]+current[R][D];
          const alive = current[c][r]===1;
          if (alive && (n<2 || n>3)) next[c][r]=0;
          else if (!alive && n===3)  next[c][r]=1;
          else                       next[c][r]=current[c][r];
        }
      }
      const tmp=current; current=next; next=tmp;
    }

    s.draw = () => {
      // soft white → light blue gradient
      const g = s.drawingContext.createLinearGradient(0,0,0,H);
      g.addColorStop(0,"rgba(255,255,255,1)");
      g.addColorStop(1,"rgba(0,82,255,0.05)");
      s.drawingContext.fillStyle = g;
      s.rect(0,0,W,H);

      evolve();

      s.stroke(GRID);
      s.strokeWeight(1);
      for (let c=0;c<cols;c++){
        for (let r=0;r<rows;r++){
          s.fill(current[c][r] ? BLUE : 255);
          s.rect(c*cellSize, r*cellSize, cellSize, cellSize);
        }
      }
    };
  });
</script>
</body>
</html>
